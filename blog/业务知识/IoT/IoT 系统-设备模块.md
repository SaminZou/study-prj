```yaml
title: IoT 系统-设备模块
author: samin
date: 2021-11-14
tags: IoT
```

# 是什么

# 设备管理

设备注册、激活、生命周期管理、拓扑关系维护

# 设备接入

负责协议解析、数据打包、加密传输，与云端的双向通信。

底层通讯：主流协议（MQTT、CoAP、HTTP、LwM2M、Modbus、NB-IoT、LoRa、5G、ZigBee 等）

上报平台消息通讯：支持设备上报数据、下发命令、订阅主题（MQTT、AMQP、Kafka 等）

规则引擎：数据过滤、流转、转发至其他云服务（数据库、消息队列、告警系统等）

# 边缘计算模块（Edge Computing）

在网关或边缘节点执行数据预处理、过滤、聚合、AI推理等。

# 设备固件与 OTA 模块（Over-The-Air Update）

远程固件升级、参数配置。

# 设备影子（Device Shadow / Twin）

云端设备虚拟模型，维护设备的状态同步

解决主要问题：
- 缓存指令，待设备上线后同步执行
- 不需要频繁轮询设备状态
- 多端控制（App + Web）不一致，无法确定设备最终状态，体验混乱

# 设备监控

# 设备告警

规则触发、异常检测、告警通知

# 设备预警