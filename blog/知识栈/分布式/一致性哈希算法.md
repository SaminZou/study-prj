```yaml
title: 一致性哈希算法
author: samin
date: 2024-01-15
```

# 数据引入算法的原因

数据结构 + 算法 = 程序，用来解决现实中的实际问题。

# 数据引入哈希算法的原因

在分布式中，实现数据在不同服务器处理中的均匀问题，宏观层面能发挥分布式系统的最优性能。

# 哈希算法存在的问题与解决方案

哈希算法会带来增加或删除节点时，数据迁移量太大的问题。

解决方案：一致性哈希算法降低了数据迁移量。

# 一致性哈希算法存在的问题与解决方案

节点较少，哈希环上每个节点实际占据的区间大小不一，最终导致业务对节点的访问冷热不均。

解决方案：引入虚拟节点映射解决了分布不均问题。

# 对比

- 节点越多时，使用哈希算法时，需要迁移的数据就越多，而使用一致性哈希算法，迁移的数据就越少。
- 一致性哈希算法本质上是一种路由寻址算法，适合简单的路由寻址场景。
- 一致性哈希算法常用在负载均衡的架构设计中。