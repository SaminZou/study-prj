```yaml
title: 拉链表
author: samin
date: 2024-01-22
```

# 是什么 ？ 

本质是日志表，在日志的基础上，需要能够对一条记录在时间线上进行审计。

# 应用场景

- 数据追踪

- 趋势分析（BI）

- 审计需求（法规要求）

# 优缺点

优点：保留了完整历史数据

缺点：实现复杂度高；更新回滚操作复杂；查询效率低

# 实现

1. 复制业务表，同时增加 `start_date`、`end_date` 字段，如果后者为 NULL，说明为当前生效数据

2. 技术框架实现

   - AOP

   - 触发器、存储过程实现（不推荐）

   - Flink CDC 监听 MySQL Binlog（无侵入）