```yaml
title: 数据库系统
author: samin
date: 2021-07-22
```

# 三级模式两级映射

![](./pic/DBMS三级方式两级映射.png)

# 数据库设计过程说明

![](./pic/数据库的设计过程.png)

## 需求分析阶段

需求说明书中包含：

- 数据流图

- 数据字典

- ER模型
通过工具可以选择对应数据库方言生成对应的 DCL SQL 语句

- 关系模式

# E-R 模型

![](./pic/ER模型示例.png)

实体：矩形

椭圆：属性

菱形：联系

![](./pic/ER图绘制方式.png)

推荐用逐步集成方式

![](./pic/ER关系模式.png)

每个实体是一个关系模式，三个以上的组成一个多元联系

答案：C

# 关系代数

- 并

- 交

- 差

- 笛卡尔积

- 投影

- 选择

- 连接

# 规范化理论

## 函数依赖

![](./pic/函数依赖.png)

数据库中函数依赖是指，学号可以确定姓名，但是姓名不能反推学号，也就是所谓的主键

部分依赖指得是组合键

传递函数依赖：A可以确定B，B可以确定C，那么推出A可以确定C

## 价值和用途

非规范化的关系模式，可能存在的问题包括：数据冗余、更新异常、插入异常、删除异常

数据冗余容易导致更新异常（某个数据的更新必须覆盖到所有被冗余应用的记录）

规范化并不一定要做到尽可能高的级别，适当的冗余可能对系统是优化手段

## 求候选关键字

![](./pic/数据库规范化理论的键.png)

超键和候选键的区别就是超键可能存在冗余项

如：学号和姓名组合为超键可以唯一确定性别，去掉多余属性（姓名）去确定性别，称为候选键

候选键和主键的区别在于，主键是唯一存在的

如：学号和身份证号都可以成为候选键，但是不能同时成为主键，选择其中一个成为主键

表之间的关联，需要外键

![](./pic/求候选键.png)

![](./pic/求候选键试题.png)

例1答案：A

例2答案：ABCD

例3答案：B

## 范式 *

范式需要结合函数依赖和求候选键的内容综合起来学习

![](./pic/范式.png)

符合高一级范式的设计，必定符合低一级范式，例如符合 2NF 的关系模式，必定符合 1NF

范式在提供的过程中，规范化级别会越来越高，提高范式的主要手段就是拆分数据表，拆分表的过程中导致系统的性能出现问题，所以一般只需要到达第三范式即可

![](./pic/1NF.png)

字段把高级职称人数进一步变成教授和副教授，就满足了第一范式

![](./pic/2NF.png)

因为 CNO（课程号） 可以确定 CREDIT（学分），所以不满足第二范式，需要单独拆表，去掉 CREDIT，即可满足第二范式

> 没有组合键的情况，满足 1NF 也等于满足 2NF

![](./pic/3NF.png)

去掉 DNAME、LOCATION 两个非主属性传递依赖的时候，就满足第三范式

![](./pic/BCNF.png)

## 范式练习题

## 模式分解

# 数据库并发控制

# 数据库完整性约束