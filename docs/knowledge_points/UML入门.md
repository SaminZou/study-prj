```properties
title: UML入门
author: samin
date: 2021-01-26
```

# 什么是UML

UML（Unified Model Language），中文是统一建模语言，是由一整套图表组成的标准化建模语言。

# 使用UML的优势

1. 为用户提供现成的、有表现力的可视化建模语言，以便他们开发和交换有意义的模型，对整个软件设计有更好的可读性，可理解性，从而降低开发风险，同时，也能方便各个开发人员之间的交流
   
2. 为核心概念提供可扩展性 (Extensibility) 和特殊化 (Specialization) 机制

3. 独立于特定的编程语言和开发过程

4. 为了解建模语言提供一个正式的基础

5. 鼓励面向对象工具市场的发展

6. 支持更高层次的开发概念，如协作，框架，模式和组件

7. 整合最佳的工作方法 (Best Practices)

# 与原型图的区别

原型图在一定程度上也可以达到沟通协作的目的，但是没有总结出一套规范，是无法形成知识体系适用所有人员与组织

# UML图

## UML图分为结构图和行为图

### 结构图

- 类图

- 轮廓图
  
- 组件图
  
- 组合结构图
  
- 对象图
  
- 部署图
  
- 包图

### 行为图

- 活动图
  
- 用例图
  
- 状态机图
  
- 交互图

    - 序列图
      
    - 时序图
      
    - 通讯图
      
    - 交互概览图

## 说明

![UML类图说明](https://github.com/SaminZou/pic-repo/raw/master/UML/UML%E5%9B%BE%E8%AF%B4%E6%98%8E.png)

## 主要使用

用例图、类图、对象图、状态图、时序图、协作图、活动图、组件图、配置图

# 类图

## 概念

类图是一切面向对象方法的核心建模工具。类图描述了系统中对象的类型以及它们之间存在的各种静态关系。

## 目的

用来表示类、接口以及它们之间的静态结构和关系。

## 关系

### 泛化关系

是一种继承关系，表示子类继承父类的所有特征和行为。

![泛化](https://github.com/SaminZou/pic-repo/raw/master/UML/%E6%B3%9B%E5%8C%96.png)

### 实现关系

是一种类与接口的关系，表示类是接口所有特征和行为的实现。

![实现](https://github.com/SaminZou/pic-repo/raw/master/UML/%E5%AE%9E%E7%8E%B0.png)

### 关联关系

是一种拥有关系，它使得一个类知道另一个类的属性和方法。

代码体现：成员变量

![关联](https://github.com/SaminZou/pic-repo/raw/master/UML/%E5%85%B3%E8%81%94.png)

> 自己买的车，想什么时候开就开。但是车是车，人是人，没有整体与部分的关系。

### 聚合关系

是一种整体与部分的关系。且部分可以离开整体而单独存在。聚合关系是关联关系的一种，是强的关联关系；关联和聚合在语法上无法区分，必须考察具体的逻辑关系。

代码体现：成员变量

![聚合](https://github.com/SaminZou/pic-repo/raw/master/UML/%E8%81%9A%E5%90%88.png)

> 电脑有键盘才能输入信息，电脑是整体，键盘是部分，键盘也可以离开电脑，单纯的拿去敲。所以是聚合。

### 组合关系

是一种整体与部分的关系。但部分不能离开整体而单独存在，组合关系是关联关系的一种，是比聚合关系还要强的关系。

代码体现：成员变量

![组合](https://github.com/SaminZou/pic-repo/raw/master/UML/%E7%BB%84%E5%90%88.png)

> 鸟是整体，翅膀是部分。鸟死了，翅膀也就不能飞了。所以是组合。我们再看一下，下面的一组经典的聚合组合关系的例子。

![组合2](https://github.com/SaminZou/pic-repo/raw/master/UML/%E7%BB%84%E5%90%882.png)

> 一个公司拥有多个部门，公司和部门之间是组合关系，公司破产了，部门就不复存在了。部门和员工是聚合关系，部门被裁掉，员工就换下家了。

### 依赖

是一种使用关系，即一个类的实现需要另一个类的协助。

![依赖](https://github.com/SaminZou/pic-repo/raw/master/UML/%E4%BE%9D%E8%B5%96.png)

> 老司机只管开车，车是谁的不重要，给什么车开什么车。

# 组件图

## 概念

描绘了系统中组件提供的、需要的接口、端口等，以及它们之间的关系。

## 目的

用来展示各个组件之间的依赖关系。

![组件图](https://github.com/SaminZou/pic-repo/raw/master/UML/%E7%BB%84%E4%BB%B6%E5%9B%BE.png)

> 订单系统组件依赖于客户资源库和库存系统组件。中间的虚线箭头表示依赖关系。另外两个符号，表示组件连接器，一个提供接口，一个需要接口。

# 部署图

## 概念

描述了系统内部的软件如何分布在不同的节点上。

## 目的

用来表示软件和硬件的映射关系。

![部署图](https://github.com/SaminZou/pic-repo/raw/master/UML/%E9%83%A8%E7%BD%B2%E5%9B%BE.png)

> 图中简单的表示，不同机器上面部署的不同软件。

# 对象图

## 概念

对象图是类图的一个实例，是系统在某个时间点的详细状态的快照。

## 目的

用来表示两个或者多个对象之间在某一时刻之间的关系。

![对象图](https://github.com/SaminZou/pic-repo/raw/master/UML/%E5%AF%B9%E8%B1%A1%E5%9B%BE.png)

> 图中就是描述的，某时间点bat这个公司有一个研发部，一个销售部，两个部门只有一个人iisheng。

# 包图

## 概念

描绘了系统在包层面上的结构设计。

## 目的

用来表示包和包之间的依赖关系。

![包图](https://github.com/SaminZou/pic-repo/raw/master/UML/%E5%8C%85%E5%9B%BE.png)

> 《Use》关系表示使用依赖，Web Shopping依赖Payment
> 《Merge》关系表示合并，Web Shopping合并了Shopping Cart就拥有了Shopping Cart的功能
> 《Access》关系表示私有引入，比如代码中的指定包名类名
> 《Import》关系表示公共引入，比如Java中的import之后，就可以直接使用import包中的类了

# 组合结构图

## 概念

描述了一个"组合结构"的内部结构，以及他们之间的关系。这个"组合结构"可以是系统的一部分，或者一个整体。

## 目的

用来表示系统中逻辑上的"组合结构"。

!(组合结构图)[https://github.com/SaminZou/pic-repo/raw/master/UML/%E7%BB%84%E5%90%88%E7%BB%93%E6%9E%84%E5%9B%BE.png]

> 图中描述了Car是由车轴连接着的两个前面轮子、两个后面轮子，和引擎组合的。

# 用例图

## 概念

用例图是指由参与者、用例，边界以及它们之间的关系构成的用于描述系统功能的视图。

## 目的

用来描述整个系统的功能。

!(用例图)[https://github.com/SaminZou/pic-repo/raw/master/UML/%E7%94%A8%E4%BE%8B%E5%9B%BE.png]

> 包含关系使用符号《include》，想要查看订单列表，前提是需要先登录。
> 扩展关系使用符号《extend》，基于查询订单列表的功能，可以增加一个导出数据的功能
> 泛化关系，子用例继承父用例所有结构、行为和关系。

# 活动图

## 概念

描述了具体业务用例的实现流程。

## 目的

用来表示用例实现的工作流程。

!(活动图)[https://github.com/SaminZou/pic-repo/raw/master/UML/%E6%B4%BB%E5%8A%A8%E5%9B%BE.png]

> 图中简单描述了，从开始到登录到查看订单列表，或者登录失败直接结束。

# 状态图

## 概念

状态机图对一个单独对象的行为建模，指明对象在它的整个生命周期里，响应不同事件时，执行相关事件的顺序。

## 目的

用来表示指定对象，在整个生命周期，响应不同事件的不同状态。

!(状态图)[https://github.com/SaminZou/pic-repo/raw/master/UML/%E7%8A%B6%E6%80%81%E5%9B%BE.png]

> 图中描述了，门在其生命周期内所经历的状态。

# 序列图

## 概念

序列图根据时间序列展示对象如何进行协作。它展示了在用例的特定场景中，对象如何与其他对象交互。

## 目的

通过描述对象之间发送消息的时间顺序显示多个对象之间的动态协作。

!(序列图)[https://github.com/SaminZou/pic-repo/raw/master/UML/%E5%BA%8F%E5%88%97%E5%9B%BE.png]

> 图中展示的是支付宝条码支付场景的序列图。其中，loop是循环，alt是选择，序列图的其他关系这里就不介绍了。

# 通讯图

## 概念

描述了收发消息的对象的组织关系，强调对象之间的合作关系而不是时间顺序。

## 目的

用来显示不同对象的关系。

!(通讯图)[https://github.com/SaminZou/pic-repo/blob/master/UML/%E9%80%9A%E8%AE%AF%E5%9B%BE.png]

> 图中展示了一个线上书店的通讯图，方框和小人表示生命线，不同生命线之间可以传递消息，消息前面的数字可以表达序列顺序。

# 时序图

## 概念

时序图被用来显示随时间变化，一个或多个元素的值或状态的更改。也显示时控事件之间的交互和管理它们的时间和期限约束。

## 目的

用来表示元素状态或者值随时间的变化而变化的视图。

!(时序图)[https://github.com/SaminZou/pic-repo/raw/master/UML/%E6%97%B6%E5%BA%8F%E5%9B%BE.png]

> 图中展示了老年痴呆病人随着时间的变化病情的变化。

# 总结

学习UML，我们没必要纠结比如像聚合关系是带箭头还是不带箭头，这样的问题。更重要的是UML图所给我们带来的画图思想，让我们画UML图或者其他图能让其他人更好的理解我们的设计思想。
